<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.29">
    <link rel="icon" href="/images/favicon.ico"><title>數據管理 | IUUI</title><meta name="description" content="mysql">
    <link rel="modulepreload" href="/assets/app.b80048b0.js"><link rel="modulepreload" href="/assets/02.mysql數據管理.html.e6ac99f4.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/02.mysql數據管理.html.5544eb54.js">
    <link rel="stylesheet" href="/assets/style.13617c07.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">IUUI</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="后端"><span class="title">后端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="后端"><span class="title">后端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/java/《java入门》/01.基础介绍.md" class="nav-link" aria-label="《JavaSE》"><!--[--><!--]--> 《JavaSE》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/java/《java多线程》/01.概述.md" class="nav-link" aria-label="《Java多線程》"><!--[--><!--]--> 《Java多線程》 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/web/html/01-html.md" class="nav-link" aria-label="《html》"><!--[--><!--]--> 《html》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/web/JavaScript/入门导论.md" class="nav-link" aria-label="《JavaScript》"><!--[--><!--]--> 《JavaScript》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/web/css/01-css.md" class="nav-link" aria-label="《CSS》"><!--[--><!--]--> 《CSS》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/web/TypeScript/01.md" class="nav-link" aria-label="《TypeScript》"><!--[--><!--]--> 《TypeScript》 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>前端</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/web/vue/01.md" class="nav-link" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/web/vue3/01.md" class="nav-link" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/web/webpack/webpack.md" class="nav-link" aria-label="WebPack"><!--[--><!--]--> WebPack <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/java/git/01.git版本控制.md" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/web/Flutter/01.md" class="nav-link" aria-label="Flutter"><!--[--><!--]--> Flutter <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>后端</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/java/mysql/01.mysql.md" class="nav-link" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/web/Jenkins/01.md" class="nav-link" aria-label="Jenkins"><!--[--><!--]--> Jenkins <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/java/springboot/01.springboot.md" class="nav-link" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Linux运维</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/java/Linux/01.Linux入门.md" class="nav-link" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/java/Docker/01.簡介和安裝.md" class="nav-link" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="其它"><span class="title">其它</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="其它"><span class="title">其它</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/guide/教程/01.後端相關教程.md" class="nav-link" aria-label="教程"><!--[--><!--]--> 教程 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/interview/interview.md" class="nav-link" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/随笔/reflection.md" class="nav-link" aria-label="随笔"><!--[--><!--]--> 随笔 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/故事/story.md" class="nav-link" aria-label="故事"><!--[--><!--]--> 故事 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/actualCombat/README.md" class="nav-link" aria-label="项目实战"><!--[--><!--]--> 项目实战 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="后端"><span class="title">后端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="后端"><span class="title">后端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/java/《java入门》/01.基础介绍.md" class="nav-link" aria-label="《JavaSE》"><!--[--><!--]--> 《JavaSE》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/java/《java多线程》/01.概述.md" class="nav-link" aria-label="《Java多線程》"><!--[--><!--]--> 《Java多線程》 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/web/html/01-html.md" class="nav-link" aria-label="《html》"><!--[--><!--]--> 《html》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/web/JavaScript/入门导论.md" class="nav-link" aria-label="《JavaScript》"><!--[--><!--]--> 《JavaScript》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/web/css/01-css.md" class="nav-link" aria-label="《CSS》"><!--[--><!--]--> 《CSS》 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/web/TypeScript/01.md" class="nav-link" aria-label="《TypeScript》"><!--[--><!--]--> 《TypeScript》 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>前端</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/web/vue/01.md" class="nav-link" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/web/vue3/01.md" class="nav-link" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/web/webpack/webpack.md" class="nav-link" aria-label="WebPack"><!--[--><!--]--> WebPack <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/java/git/01.git版本控制.md" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/web/Flutter/01.md" class="nav-link" aria-label="Flutter"><!--[--><!--]--> Flutter <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>后端</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/java/mysql/01.mysql.md" class="nav-link" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/web/Jenkins/01.md" class="nav-link" aria-label="Jenkins"><!--[--><!--]--> Jenkins <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/java/springboot/01.springboot.md" class="nav-link" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Linux运维</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/java/Linux/01.Linux入门.md" class="nav-link" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/java/Docker/01.簡介和安裝.md" class="nav-link" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="其它"><span class="title">其它</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="其它"><span class="title">其它</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/guide/教程/01.後端相關教程.md" class="nav-link" aria-label="教程"><!--[--><!--]--> 教程 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/interview/interview.md" class="nav-link" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/随笔/reflection.md" class="nav-link" aria-label="随笔"><!--[--><!--]--> 随笔 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/故事/story.md" class="nav-link" aria-label="故事"><!--[--><!--]--> 故事 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/actualCombat/README.md" class="nav-link" aria-label="项目实战"><!--[--><!--]--> 项目实战 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">MySql</p><ul class=""><li><!--[--><a href="/java/mysql/01.mysql.html" class="nav-link sidebar-item" aria-label="MySql基礎"><!--[--><!--]--> MySql基礎 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="數據管理"><!--[--><!--]--> 數據管理 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#外鍵" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="外鍵"><!--[--><!--]--> 外鍵 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#dml-語言" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="DML 語言"><!--[--><!--]--> DML 語言 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#插入" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="插入"><!--[--><!--]--> 插入 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#修改" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="修改"><!--[--><!--]--> 修改 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#刪除" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="刪除"><!--[--><!--]--> 刪除 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#dql-查詢數據" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="DQL 查詢數據"><!--[--><!--]--> DQL 查詢數據 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#查詢" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="查詢"><!--[--><!--]--> 查詢 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#去重" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="去重"><!--[--><!--]--> 去重 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#where-條件字句" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="where 條件字句"><!--[--><!--]--> where 條件字句 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#模糊查詢" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="模糊查詢"><!--[--><!--]--> 模糊查詢 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#聯表查詢" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="聯表查詢"><!--[--><!--]--> 聯表查詢 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#自連接及連表查詢" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="自連接及連表查詢"><!--[--><!--]--> 自連接及連表查詢 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#分頁-limit-和排序-order-by" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="分頁（limit）和排序（order by）"><!--[--><!--]--> 分頁（limit）和排序（order by） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#自查詢和嵌套查詢" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="自查詢和嵌套查詢"><!--[--><!--]--> 自查詢和嵌套查詢 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#mysql-函數" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="MySQL 函數"><!--[--><!--]--> MySQL 函數 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/java/mysql/02.mysql%E6%95%B8%E6%93%9A%E7%AE%A1%E7%90%86.html#聚合函數" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="聚合函數"><!--[--><!--]--> 聚合函數 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/java/mysql/03.mysql%E4%BA%8B%E5%8B%99.html" class="nav-link sidebar-item" aria-label="MySql事務"><!--[--><!--]--> MySql事務 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/java/mysql/04.JDBC.html" class="nav-link sidebar-item" aria-label="JDBC"><!--[--><!--]--> JDBC <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="數據管理" tabindex="-1"><a class="header-anchor" href="#數據管理" aria-hidden="true">#</a> 數據管理</h1><h2 id="外鍵" tabindex="-1"><a class="header-anchor" href="#外鍵" aria-hidden="true">#</a> 外鍵</h2><p>下面是物理外鍵：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 定義外鍵 key</span>
<span class="token comment">-- 外鍵類似於約束，執行引用其它表的數據，references 引用</span>
<span class="token keyword">key</span> <span class="token punctuation">`</span>FK_gradeid<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">constraint</span> <span class="token punctuation">`</span>FK_gradeid<span class="token punctuation">`</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">references</span> <span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token comment">-- 1.外鍵不能是主鍵</span>
<span class="token comment">-- 2.兩個字段數據類型和約束必須相同</span>

<span class="token comment">-- 或者</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span>
<span class="token keyword">add</span> <span class="token keyword">constraint</span> <span class="token punctuation">`</span>FK_gradeid<span class="token punctuation">`</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">references</span> <span class="token punctuation">`</span>grade<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span><span class="token punctuation">)</span>

<span class="token comment">-- alter table 表 add constraint [約束名] foreign key (作為外鍵的列) references 那個表（那個字段）</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>刪除外鍵的時候，必須先刪除字表，再刪除父表</p><h4 id="不得使用外鍵於級聯" tabindex="-1"><a class="header-anchor" href="#不得使用外鍵於級聯" aria-hidden="true">#</a> 不得使用外鍵於級聯</h4><h2 id="dml-語言" tabindex="-1"><a class="header-anchor" href="#dml-語言" aria-hidden="true">#</a> DML 語言</h2><h3 id="插入" tabindex="-1"><a class="header-anchor" href="#插入" aria-hidden="true">#</a> 插入</h3><blockquote><p>insert</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- insert into 表名 (`字段名`,`字段名2`) values （`值1`,`值2`）</span>
<span class="token comment">-- insert into 表名 (`字段名`) values （`值1`),(`值2`）; 一個字段多個值</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>name<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;陳柒&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意：字段和值得位置是一一對應的</p><h3 id="修改" tabindex="-1"><a class="header-anchor" href="#修改" aria-hidden="true">#</a> 修改</h3><blockquote><p>update</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 語法：update 表名 set column_name = value where [條件]</span>
<span class="token keyword">update</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">set</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">&#39;陳柒&#39;</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">-- 修改多個屬性</span>
<span class="token keyword">update</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">set</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">&#39;陳柒&#39;</span><span class="token punctuation">,</span><span class="token punctuation">`</span>age<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">&#39;22&#39;</span><span class="token punctuation">,</span><span class="token punctuation">`</span>email<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">&#39;3062995371@qq.com&#39;</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>語法：<code>update 表名 set column_name = value,[column_name = value,......] where [條件]</code></p><p>注意：</p><ol><li>不寫條件會影響整張表</li><li><code>column_name</code>是數據庫的列，盡量帶上英文冒號``</li><li><code>value</code>是一個具體的值，也可以是一個變量</li></ol><p>重點在于<code>where</code>條件，其作用于每條數據，計算結果必須是<code>Boolean</code>值：</p><table><thead><tr><th style="text-align:center;">操作符</th><th style="text-align:center;">含義</th><th style="text-align:center;">例子</th></tr></thead><tbody><tr><td style="text-align:center;"><code>=</code></td><td style="text-align:center;">等於</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>&lt;&gt;</code>或<code>!=</code></td><td style="text-align:center;">不等於</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>&gt;</code></td><td style="text-align:center;">大於</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>&lt;</code></td><td style="text-align:center;">小於</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>between...and...</code></td><td style="text-align:center;">指定範圍之內，如:<code>[2,5]</code></td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>and</code></td><td style="text-align:center;">和，類似於&amp;&amp;，左右必須同時滿足</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;"><code>or</code></td><td style="text-align:center;">或，左右滿足一項即可</td><td style="text-align:center;"></td></tr></tbody></table><h3 id="刪除" tabindex="-1"><a class="header-anchor" href="#刪除" aria-hidden="true">#</a> 刪除</h3><blockquote><p>delete</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">--刪除指定數據</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>


<span class="token comment">-- 清空表</span>
<span class="token keyword">truncate</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>清空表的區別：</p><ol><li><p><code>delete</code>:</p><ul><li>不會影響自增</li></ul></li><li><p><code>truncate</code>:</p><ul><li>自增會歸零</li></ul></li></ol><h2 id="dql-查詢數據" tabindex="-1"><a class="header-anchor" href="#dql-查詢數據" aria-hidden="true">#</a> DQL 查詢數據</h2><h3 id="查詢" tabindex="-1"><a class="header-anchor" href="#查詢" aria-hidden="true">#</a> 查詢</h3><blockquote><p>指定字段查詢</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查詢所有學生</span>
<span class="token keyword">select</span> <span class="token operator">*</span> form student

<span class="token comment">--查詢指定字段</span>
<span class="token keyword">select</span> <span class="token punctuation">`</span>student_no<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>student_name<span class="token punctuation">`</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>

<span class="token comment">--查詢指定字段添加別名（給字段起別名，表也可以）</span>
<span class="token keyword">select</span> <span class="token punctuation">`</span>student_no<span class="token punctuation">`</span> <span class="token keyword">as</span> 學號<span class="token punctuation">,</span><span class="token punctuation">`</span>student_name<span class="token punctuation">`</span> <span class="token keyword">as</span> 姓名 <span class="token keyword">from</span> student<span class="token punctuation">;</span>

<span class="token comment">-- 函數:Concat(a,b)，拼接字符串</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token string">&#39;姓名：&#39;</span><span class="token punctuation">,</span>student_name<span class="token punctuation">)</span> <span class="token keyword">as</span> 名字 <span class="token keyword">from</span> student<span class="token punctuation">;</span>

<span class="token comment">-- 語法</span>
<span class="token keyword">select</span> <span class="token punctuation">[</span><span class="token keyword">all</span><span class="token operator">|</span><span class="token keyword">distinct</span><span class="token punctuation">]</span>
{<span class="token operator">*</span> <span class="token operator">|</span> <span class="token keyword">table</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token keyword">table</span><span class="token punctuation">.</span>field1<span class="token punctuation">[</span><span class="token keyword">as</span> alias1<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token keyword">table</span><span class="token punctuation">.</span>field2<span class="token punctuation">[</span><span class="token keyword">as</span> alias2<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>}
<span class="token keyword">from</span> table_name <span class="token punctuation">[</span><span class="token keyword">as</span> table_alias<span class="token punctuation">]</span>
     <span class="token punctuation">[</span><span class="token keyword">left</span> <span class="token operator">|</span> <span class="token keyword">right</span> <span class="token operator">|</span> <span class="token keyword">inner</span>  <span class="token keyword">join</span> table_name2<span class="token punctuation">]</span> <span class="token comment">--聯合查詢</span>
     <span class="token punctuation">[</span><span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token comment">-- 指定查詢條件</span>
     <span class="token punctuation">[</span><span class="token keyword">group</span> <span class="token keyword">by</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token comment">-- 指定結果按照那幾個字段來分組</span>
     <span class="token punctuation">[</span><span class="token keyword">having</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token comment">--過濾分組的記錄必須滿足的次要條件</span>
     <span class="token punctuation">[</span><span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token comment">--指定查詢按照一個或多個進行排序</span>
     <span class="token punctuation">[</span>limt {<span class="token punctuation">[</span><span class="token keyword">offset</span><span class="token punctuation">,</span><span class="token punctuation">]</span>row_count <span class="token operator">|</span> row_countoffset <span class="token keyword">offset</span>}<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">-- 指定查詢記錄從那條到那條</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="去重" tabindex="-1"><a class="header-anchor" href="#去重" aria-hidden="true">#</a> 去重</h3><blockquote><p>distinct</p></blockquote><div class="language-SQL ext-SQL line-numbers-mode"><pre class="language-SQL"><code>-- 剔除重複數據，重複只顯示一條，查詢result中student_no，並去重
select distinct `student_no` from result;

select 100*3-1; --運算表達式
select version(); --查看mysql版本
select @@auto_increment_increment;--查看自增步長
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>數據庫中的<code>select</code>表達式：文本值，列，null，函數，計算表達式，系統變量</p><h3 id="where-條件字句" tabindex="-1"><a class="header-anchor" href="#where-條件字句" aria-hidden="true">#</a> where 條件字句</h3><p>作用：就是檢索數據中<code>符合條件</code>的值</p><blockquote><p>邏輯運算符</p></blockquote><table><thead><tr><th style="text-align:center;">運算符</th><th style="text-align:center;">語法</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>and</code>,<code>&amp;&amp;</code></td><td style="text-align:center;">a and b 或者 a &amp;&amp; b</td><td style="text-align:center;">邏輯與，兩個為真才為真</td></tr><tr><td style="text-align:center;"><code>or</code>, ||</td><td style="text-align:center;">a or b 或者 a || b</td><td style="text-align:center;">邏輯或，一個為真才為真</td></tr><tr><td style="text-align:center;"><code>not</code>,<code>!</code></td><td style="text-align:center;"><code>not</code> a 或者 !a</td><td style="text-align:center;">邏輯非，真為假，假為真</td></tr></tbody></table><p>注意：盡量使用英文表達式</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 條件查詢,查詢成績95——100的學生</span>
<span class="token keyword">select</span> student_no <span class="token keyword">from</span> student <span class="token keyword">where</span> student_result<span class="token operator">&gt;=</span><span class="token number">95</span> <span class="token operator">and</span> student_result<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span>

<span class="token comment">-- 區間查詢(查詢95——100分的同學)</span>
<span class="token keyword">select</span> student_no <span class="token keyword">from</span> student <span class="token keyword">where</span> student_result <span class="token operator">between</span> <span class="token number">95</span> <span class="token operator">and</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token comment">--查詢學號不為1000的同學的成績</span>
<span class="token keyword">select</span> student_no <span class="token keyword">from</span> result <span class="token keyword">where</span> <span class="token operator">not</span> student_no<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="模糊查詢" tabindex="-1"><a class="header-anchor" href="#模糊查詢" aria-hidden="true">#</a> 模糊查詢</h3><table><thead><tr><th style="text-align:center;">運算符</th><th style="text-align:center;">語法</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>is null</code></td><td style="text-align:center;">a is null</td><td style="text-align:center;">如果 a 為 null，結果為真</td></tr><tr><td style="text-align:center;"><code>is not null</code></td><td style="text-align:center;">a not null</td><td style="text-align:center;">如果 a 不為 null，結果為真</td></tr><tr><td style="text-align:center;"><code>between</code></td><td style="text-align:center;">a bettween b and c</td><td style="text-align:center;">如果 a 在 b 和 c 之間，結果為真</td></tr><tr><td style="text-align:center;"><code>like</code></td><td style="text-align:center;">a like b</td><td style="text-align:center;">sql 匹配語句,如果 a 匹配到 b，返回真</td></tr><tr><td style="text-align:center;"><code>in</code></td><td style="text-align:center;">a in (a1,a2,a3...)</td><td style="text-align:center;">如果 a 在 a1,a2...中的某一個值，結果為真</td></tr></tbody></table><blockquote><p>like</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">--查詢名字姓劉的，模糊查詢姓劉的</span>
<span class="token keyword">select</span> <span class="token punctuation">`</span>student_name<span class="token punctuation">`</span> <span class="token keyword">from</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">where</span> student_name <span class="token operator">like</span> <span class="token string">&#39;劉%&#39;</span>
<span class="token comment">--查詢名字是三個字並且姓劉的</span>
<span class="token keyword">select</span> <span class="token punctuation">`</span>student_name<span class="token punctuation">`</span> <span class="token keyword">from</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">where</span> student_name <span class="token operator">like</span> <span class="token string">&#39;劉—__&#39;</span>
<span class="token comment">--查詢名字是兩個字並且姓劉的</span>
<span class="token keyword">select</span> <span class="token punctuation">`</span>student_name<span class="token punctuation">`</span> <span class="token keyword">from</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">where</span> student_name <span class="token operator">like</span> <span class="token string">&#39;劉_&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>in</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">--查詢學號為，1001，1002，,1003的學員</span>
<span class="token keyword">select</span> student_name <span class="token keyword">from</span> student <span class="token keyword">where</span> student_no <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token number">1002</span><span class="token punctuation">,</span><span class="token number">1003</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="聯表查詢" tabindex="-1"><a class="header-anchor" href="#聯表查詢" aria-hidden="true">#</a> 聯表查詢</h3><p>柒种查詢情況</p><p><img src="https://pic1.zhimg.com/v2-734a8d3ea25f5e22239086fce23b203a_1440w.jpg?source=172ae18b" alt=""></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 拼接學號相同的兩個表的子段</span>
<span class="token keyword">select</span> a<span class="token punctuation">.</span>student_no<span class="token punctuation">,</span>student_name<span class="token punctuation">,</span>student_result
<span class="token keyword">from</span> student <span class="token keyword">as</span> s
<span class="token keyword">inner</span> <span class="token keyword">join</span> result <span class="token keyword">as</span> r
<span class="token keyword">where</span> s<span class="token punctuation">.</span>student_no <span class="token operator">=</span> r<span class="token punctuation">.</span>student_no


<span class="token comment">-- 左查詢</span>
<span class="token keyword">select</span> a<span class="token punctuation">.</span>student_no<span class="token punctuation">,</span>student_name<span class="token punctuation">,</span>student_result
<span class="token keyword">from</span> student <span class="token keyword">as</span> s
<span class="token keyword">left</span> <span class="token keyword">join</span> result <span class="token keyword">as</span> r
<span class="token keyword">on</span> s<span class="token punctuation">.</span>student_no <span class="token operator">=</span> r<span class="token punctuation">.</span>student_no

<span class="token comment">-- 右查詢</span>
<span class="token keyword">select</span> a<span class="token punctuation">.</span>student_no<span class="token punctuation">,</span>student_name<span class="token punctuation">,</span>student_result
<span class="token keyword">from</span> student <span class="token keyword">as</span> s
<span class="token keyword">right</span> <span class="token keyword">join</span> result <span class="token keyword">as</span> r
<span class="token keyword">on</span> s<span class="token punctuation">.</span>student_no <span class="token operator">=</span> r<span class="token punctuation">.</span>student_no

<span class="token comment">-- 三表查詢</span>
<span class="token comment">-- student(學生表) result(成績表) subject(科目表)</span>
<span class="token keyword">select</span> s<span class="token punctuation">.</span>student_no<span class="token punctuation">,</span>student_name<span class="token punctuation">,</span>subject_name<span class="token punctuation">,</span>student_result
<span class="token keyword">from</span> student s
<span class="token keyword">right</span> <span class="token keyword">join</span> result r
<span class="token keyword">on</span> r<span class="token punctuation">.</span>student_no <span class="token operator">=</span> s<span class="token punctuation">.</span>student_no
<span class="token keyword">inner</span> <span class="token keyword">join</span> subject sub
<span class="token keyword">on</span> r<span class="token punctuation">.</span>subject_name <span class="token operator">=</span> sub<span class="token punctuation">.</span>subject_name
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ol><li><code>on</code>：鏈接查詢，條件判斷</li><li><code>where</code>：等價查詢</li></ol><h3 id="自連接及連表查詢" tabindex="-1"><a class="header-anchor" href="#自連接及連表查詢" aria-hidden="true">#</a> 自連接及連表查詢</h3><p>簡單理解就是把一張表拆成兩張表進行自查詢</p><p>下面是一張數據庫表</p><table><thead><tr><th style="text-align:center;">cid</th><th style="text-align:center;">pid</th><th style="text-align:center;">name</th></tr></thead><tbody><tr><td style="text-align:center;">3</td><td style="text-align:center;">1</td><td style="text-align:center;">軟件開發</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:center;">1</td><td style="text-align:center;">美術技術</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:center;">3</td><td style="text-align:center;">數據庫</td></tr><tr><td style="text-align:center;">8</td><td style="text-align:center;">2</td><td style="text-align:center;">辦公技術</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">1</td><td style="text-align:center;">信息技術</td></tr><tr><td style="text-align:center;">6</td><td style="text-align:center;">3</td><td style="text-align:center;">web 開發</td></tr><tr><td style="text-align:center;">7</td><td style="text-align:center;">5</td><td style="text-align:center;">ps 技術</td></tr></tbody></table><p><code>cid</code>：理解為子 id（理解為自己本身 id 更合適），唯一性</p><p><code>pid</code>：理解為父 id</p><p><code>如：數據庫自己的id是4，父id是3，發現軟件開發自己的id是3，意味著數據庫的父級是軟件開發。</code></p><p>這樣理解，子可都有唯一的父類，父類可以有多個子類。是不是類似于樹形結構。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查詢父子信息</span>
<span class="token keyword">select</span> a<span class="token punctuation">.</span><span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">as</span> <span class="token string">&#39;父欄目&#39;</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span><span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">as</span> <span class="token string">&#39;子欄目&#39;</span>
<span class="token keyword">from</span> <span class="token punctuation">`</span>category<span class="token punctuation">`</span> <span class="token keyword">as</span> a<span class="token punctuation">,</span><span class="token punctuation">`</span>category<span class="token punctuation">`</span> <span class="token keyword">as</span> b
<span class="token keyword">where</span> a<span class="token punctuation">.</span><span class="token punctuation">`</span>cid<span class="token punctuation">`</span> <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token punctuation">`</span>pid<span class="token punctuation">`</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><table><thead><tr><th style="text-align:center;">父欄目</th><th style="text-align:center;">子欄目</th></tr></thead><tbody><tr><td style="text-align:center;">軟件開發</td><td style="text-align:center;">數據庫</td></tr><tr><td style="text-align:center;">軟件開發</td><td style="text-align:center;">web 開發</td></tr><tr><td style="text-align:center;">美術設計</td><td style="text-align:center;">ps 技術</td></tr><tr><td style="text-align:center;">信息技術</td><td style="text-align:center;">辦公信息</td></tr></tbody></table><h3 id="分頁-limit-和排序-order-by" tabindex="-1"><a class="header-anchor" href="#分頁-limit-和排序-order-by" aria-hidden="true">#</a> 分頁（limit）和排序（order by）</h3><blockquote><p>排序</p></blockquote><p>排序有<code>升序（ASC）</code>和<code>降序（DESC）</code></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span><span class="token punctuation">`</span>student_name<span class="token punctuation">`</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span><span class="token punctuation">`</span>student_result<span class="token punctuation">`</span>
<span class="token keyword">from</span> student s
<span class="token keyword">inner</span> <span class="token keyword">join</span>  result r
<span class="token keyword">on</span> s<span class="token punctuation">.</span>student_no <span class="token operator">=</span> r<span class="token punctuation">.</span>student_no
<span class="token keyword">where</span> subject_name <span class="token operator">=</span> <span class="token string">&#39;數據庫&#39;</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> student_result <span class="token keyword">asc</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>分頁</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span><span class="token punctuation">`</span>student_name<span class="token punctuation">`</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span><span class="token punctuation">`</span>student_result<span class="token punctuation">`</span>
<span class="token keyword">from</span> student s
<span class="token keyword">inner</span> <span class="token keyword">join</span>  result r
<span class="token keyword">on</span> s<span class="token punctuation">.</span>student_no <span class="token operator">=</span> r<span class="token punctuation">.</span>student_no
<span class="token keyword">where</span> subject_name <span class="token operator">=</span> <span class="token string">&#39;數據庫&#39;</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> student_result <span class="token keyword">asc</span>
<span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>分頁的的計算公式</p><p><code>limit (n-1)*pageSize,pageSize</code>：第一頁為【（1-1）*5,5 】代表第一頁，每頁 5 條<code>（0，5）</code>；</p><h3 id="自查詢和嵌套查詢" tabindex="-1"><a class="header-anchor" href="#自查詢和嵌套查詢" aria-hidden="true">#</a> 自查詢和嵌套查詢</h3><blockquote><p>子查詢</p></blockquote><p>在 where 中嵌套一個查詢語句</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- SQL會先執行子查詢，然後再進行外層查詢，其實功能跟連表查詢很象</span>
<span class="token keyword">select</span> student_no<span class="token punctuation">,</span>subject<span class="token punctuation">,</span>student_result
<span class="token keyword">from</span> result
<span class="token keyword">where</span> subject <span class="token operator">=</span> <span class="token punctuation">(</span>
   <span class="token keyword">select</span> subject <span class="token keyword">from</span> subject
   <span class="token keyword">where</span> subject_name <span class="token operator">=</span> <span class="token string">&#39;數據庫&#39;</span>
<span class="token punctuation">)</span>

<span class="token comment">-- 查詢高等數學 且分數不小於80 的同學的學號和姓名</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="mysql-函數" tabindex="-1"><a class="header-anchor" href="#mysql-函數" aria-hidden="true">#</a> MySQL 函數</h3><p>官網：<a href="https://dev.mysql.com/doc/refman/8.0/en/built-in-function-reference.html" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/doc/refman/8.0/en/built-in-function-reference.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><p>只學部分</p><ol><li>數學運算</li></ol><table><thead><tr><th style="text-align:center;">表達式</th><th style="text-align:center;">結果</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">select abs(-8)</td><td style="text-align:center;">8</td><td style="text-align:center;">絕對值</td></tr><tr><td style="text-align:center;">select ceiling(9.4)</td><td style="text-align:center;">10</td><td style="text-align:center;">向上取整</td></tr><tr><td style="text-align:center;">select floor(9.4)</td><td style="text-align:center;">9</td><td style="text-align:center;">向下取整</td></tr><tr><td style="text-align:center;">select rand()</td><td style="text-align:center;">0~1 之間隨機數</td><td style="text-align:center;">返回一個 0~1 之間的隨機數</td></tr><tr><td style="text-align:center;">select sign(-10)</td><td style="text-align:center;">-1</td><td style="text-align:center;">判斷一個字的符號，0 返回 0，負數返回-1，正數返回 1</td></tr></tbody></table><ol start="2"><li><p>字符串函數</p></li><li><p>時間和日期函數</p></li></ol><table><thead><tr><th style="text-align:center;">表達式</th><th style="text-align:center;">結果</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">select current_date()</td><td style="text-align:center;"></td><td style="text-align:center;">當前時間</td></tr><tr><td style="text-align:center;">select curdate()</td><td style="text-align:center;"></td><td style="text-align:center;">當前時間</td></tr></tbody></table><ol start="4"><li>其它</li></ol><table><thead><tr><th style="text-align:center;">表達式</th><th style="text-align:center;">結果</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">select user()</td><td style="text-align:center;"></td><td style="text-align:center;">當前用戶</td></tr></tbody></table><h3 id="聚合函數" tabindex="-1"><a class="header-anchor" href="#聚合函數" aria-hidden="true">#</a> 聚合函數</h3><table><thead><tr><th style="text-align:center;">函數</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">count()</td><td style="text-align:center;">求和</td></tr><tr><td style="text-align:center;">sun()</td><td style="text-align:center;">總和</td></tr><tr><td style="text-align:center;">avg()</td><td style="text-align:center;">平均分</td></tr><tr><td style="text-align:center;">max()</td><td style="text-align:center;">最高分</td></tr><tr><td style="text-align:center;">min()</td><td style="text-align:center;">最低分</td></tr></tbody></table><div class="language-SQL ext-SQL line-numbers-mode"><pre class="language-SQL"><code>-- 多種統計情況
select count(`date`) from student; --根據字段查詢，忽略null值
select count(1) from student; -- 用1代表行，求出一共多少行
select count(*) from student; --相當於行數，不會忽略null值
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="數據庫md5加密" tabindex="-1"><a class="header-anchor" href="#數據庫md5加密" aria-hidden="true">#</a> 數據庫MD5加密</h4><p>MD5是不可逆的，但相同值得MD5加密的值也相同</p><p><code>MD(&#39;password&#39;)</code></p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3062995371@qq.com">陈柒</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/java/mysql/01.mysql.html" class="nav-link" aria-label="MySql基礎"><!--[--><!--]--> MySql基礎 <!--[--><!--]--></a></span><span class="next"><a href="/java/mysql/03.mysql%E4%BA%8B%E5%8B%99.html" class="nav-link" aria-label="MySql事務"><!--[--><!--]--> MySql事務 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.b80048b0.js" defer></script>
  </body>
</html>
